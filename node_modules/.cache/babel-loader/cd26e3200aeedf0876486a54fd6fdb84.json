{"ast":null,"code":"import { useRef } from 'react';\nimport raf from \"rc-util/es/raf\";\nimport isFF from '../utils/isFirefox';\nexport default function useFrameWheel(inVirtual, onWheelDelta) {\n  var offsetRef = useRef(0);\n  var nextFrameRef = useRef(null); // Firefox patch\n\n  var wheelValueRef = useRef(null);\n  var isMouseScrollRef = useRef(false);\n\n  function onWheel(event) {\n    if (!inVirtual) return; // Proxy of scroll events\n\n    if (!isFF) {\n      event.preventDefault();\n    }\n\n    raf.cancel(nextFrameRef.current);\n    offsetRef.current += event.deltaY;\n    wheelValueRef.current = event.deltaY;\n    nextFrameRef.current = raf(function () {\n      // Patch a multiple for Firefox to fix wheel number too small\n      // ref: https://github.com/ant-design/ant-design/issues/26372#issuecomment-679460266\n      var patchMultiple = isMouseScrollRef.current ? 10 : 1;\n      onWheelDelta(offsetRef.current * patchMultiple);\n      offsetRef.current = 0;\n    });\n  } // A patch for firefox\n\n\n  function onFireFoxScroll(event) {\n    if (!inVirtual) return; // Firefox level stop\n\n    event.preventDefault();\n    isMouseScrollRef.current = event.detail === wheelValueRef.current;\n  }\n\n  return [onWheel, onFireFoxScroll];\n}","map":{"version":3,"sources":["/home/diop/Documents/projetSante/node_modules/rc-virtual-list/es/hooks/useFrameWheel.js"],"names":["useRef","raf","isFF","useFrameWheel","inVirtual","onWheelDelta","offsetRef","nextFrameRef","wheelValueRef","isMouseScrollRef","onWheel","event","preventDefault","cancel","current","deltaY","patchMultiple","onFireFoxScroll","detail"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,eAAe,SAASC,aAAT,CAAuBC,SAAvB,EAAkCC,YAAlC,EAAgD;AAC7D,MAAIC,SAAS,GAAGN,MAAM,CAAC,CAAD,CAAtB;AACA,MAAIO,YAAY,GAAGP,MAAM,CAAC,IAAD,CAAzB,CAF6D,CAE5B;;AAEjC,MAAIQ,aAAa,GAAGR,MAAM,CAAC,IAAD,CAA1B;AACA,MAAIS,gBAAgB,GAAGT,MAAM,CAAC,KAAD,CAA7B;;AAEA,WAASU,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,QAAI,CAACP,SAAL,EAAgB,OADM,CACE;;AAExB,QAAI,CAACF,IAAL,EAAW;AACTS,MAAAA,KAAK,CAACC,cAAN;AACD;;AAEDX,IAAAA,GAAG,CAACY,MAAJ,CAAWN,YAAY,CAACO,OAAxB;AACAR,IAAAA,SAAS,CAACQ,OAAV,IAAqBH,KAAK,CAACI,MAA3B;AACAP,IAAAA,aAAa,CAACM,OAAd,GAAwBH,KAAK,CAACI,MAA9B;AACAR,IAAAA,YAAY,CAACO,OAAb,GAAuBb,GAAG,CAAC,YAAY;AACrC;AACA;AACA,UAAIe,aAAa,GAAGP,gBAAgB,CAACK,OAAjB,GAA2B,EAA3B,GAAgC,CAApD;AACAT,MAAAA,YAAY,CAACC,SAAS,CAACQ,OAAV,GAAoBE,aAArB,CAAZ;AACAV,MAAAA,SAAS,CAACQ,OAAV,GAAoB,CAApB;AACD,KANyB,CAA1B;AAOD,GAxB4D,CAwB3D;;;AAGF,WAASG,eAAT,CAAyBN,KAAzB,EAAgC;AAC9B,QAAI,CAACP,SAAL,EAAgB,OADc,CACN;;AAExBO,IAAAA,KAAK,CAACC,cAAN;AACAH,IAAAA,gBAAgB,CAACK,OAAjB,GAA2BH,KAAK,CAACO,MAAN,KAAiBV,aAAa,CAACM,OAA1D;AACD;;AAED,SAAO,CAACJ,OAAD,EAAUO,eAAV,CAAP;AACD","sourcesContent":["import { useRef } from 'react';\nimport raf from \"rc-util/es/raf\";\nimport isFF from '../utils/isFirefox';\nexport default function useFrameWheel(inVirtual, onWheelDelta) {\n  var offsetRef = useRef(0);\n  var nextFrameRef = useRef(null); // Firefox patch\n\n  var wheelValueRef = useRef(null);\n  var isMouseScrollRef = useRef(false);\n\n  function onWheel(event) {\n    if (!inVirtual) return; // Proxy of scroll events\n\n    if (!isFF) {\n      event.preventDefault();\n    }\n\n    raf.cancel(nextFrameRef.current);\n    offsetRef.current += event.deltaY;\n    wheelValueRef.current = event.deltaY;\n    nextFrameRef.current = raf(function () {\n      // Patch a multiple for Firefox to fix wheel number too small\n      // ref: https://github.com/ant-design/ant-design/issues/26372#issuecomment-679460266\n      var patchMultiple = isMouseScrollRef.current ? 10 : 1;\n      onWheelDelta(offsetRef.current * patchMultiple);\n      offsetRef.current = 0;\n    });\n  } // A patch for firefox\n\n\n  function onFireFoxScroll(event) {\n    if (!inVirtual) return; // Firefox level stop\n\n    event.preventDefault();\n    isMouseScrollRef.current = event.detail === wheelValueRef.current;\n  }\n\n  return [onWheel, onFireFoxScroll];\n}"]},"metadata":{},"sourceType":"module"}